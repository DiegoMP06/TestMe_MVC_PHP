import{obtenerUrl}from"../utility/utilidades.js";import FuncionesTest from"../utility/classes/tests/FuncionesTest.js";import TestBasico from"../utility/classes/tests/TestBasico.js";!function(){let t;!async function(){try{const o="/api/test?url="+obtenerUrl(),s=await fetch(o),i=await s.json();if("exito"===i.tipo){const{test:o}=i;!async function(o){try{const s="/api/categorias?id="+o.categoriaId,i="/api/usuarios?id="+o.usuarioId,e="/api/tipotest?id="+o.tipoTestId,[a,c,r]=await Promise.all([fetch(s),fetch(i),fetch(e)]),n=await a.json(),u=await c.json(),l=await r.json();if("exito"===n.tipo&&"exito"===u.tipo&&l.tipo){const{categoria:s}=n,{usuario:i}=u,{tipoTest:e}=l;t=new FuncionesTest(o,e,s,i),function(o){const{tipoTestId:s}=o;let i;switch(s){case"1":i=new TestBasico(o);break;case"2":case"3":break;default:console.log("Error")}i&&i.mostrarFormulario();t.mostrarAside()}(o)}}catch(t){console.error(t)}}(o)}}catch(t){console.error(t)}}()}();