import EduTest from"./EduTest.js";import{test,visita}from"./funcionesTestEdu.js";export default class EduTestAvanzado extends EduTest{mostrarFormulario(e){const{opciones:t,preguntas:o}=test,n=document.createElement("DIV");n.classList.add("contenedor-test"),o.forEach((e,o)=>{const a=document.createElement("DIV");a.classList.add("campo-radio");const{pregunta:d,id:s}=e,[c]=t.filter(e=>e.id===s),{opciones:i,multiple:r}=c,p=document.createElement("P");p.textContent=`${o+1}. ${d}`,p.dataset.for=s,a.appendChild(p);const l=document.createElement("DIV");l.classList.add("opciones-test"),l.dataset.name=s;const m={id:Math.round(Math.random()*Date.now()),name:s,pregunta:d,opciones:[],multiple:r,valor:r?[]:{}};i.forEach((e,t)=>{const{id:o,opcion:n,valor:a}=e,d=document.createElement("DIV");d.classList.add("radio");const c=document.createElement("LABEL"),i=document.createElement("INPUT");c.textContent=`${t+1}. ${n}`,c.setAttribute("for",o),i.type=r?"checkbox":"radio",i.id=o,i.name=s,i.oninput=e=>{this.sincronizarCampos(s,o,e.target.checked)},d.appendChild(i),d.appendChild(c),l.appendChild(d);const p={id:o,opcion:n,valor:a,checked:!1};m.opciones=[...m.opciones,p]}),a.appendChild(l),n.appendChild(a),visita.agregarCampo(m)}),e.appendChild(n)}}